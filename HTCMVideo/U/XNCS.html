  <!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>黑铁环球洗脑音乐 - 思想状态检查</title>
<link rel="stylesheet" href="https://htcb-12c7.github.io/htgov/css/htgov.css">
<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;
  font-family: "Microsoft YaHei", sans-serif;
  background: linear-gradient(180deg, #ff0000 0%, #ff6600 50%, #ffd700 100%);
  color: #400000; /* ✅ 深红文字，清晰 */
  position: relative;
}

/* 顶部栏 */
.header {
  height: 60px;
  background: linear-gradient(90deg, #ff0000, #ffd700);
  color: #000;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 22px;
  font-weight: bold;
  text-shadow: 0 0 6px #fff;
  box-shadow: 0 2px 10px rgba(255, 255, 0, 0.6);
  position: relative;
  z-index: 10;
}
.logo {
  position: absolute;
  left: 10px;
  top: 10px;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  cursor: pointer;
}

/* 主体 */
.main-container {
  position: absolute;
  top: 60px;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
}
.section-flex {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 60px;
}
#earth-container {
  width: 400px;
  height: 400px;
  border-radius: 50%;
  box-shadow: 0 0 40px rgba(255, 215, 0, 0.9);
}
.info-box {
  width: 420px;
  background: rgba(255, 255, 255, 0.2);
  border: 2px solid gold;
  border-radius: 15px;
  padding: 20px;
  text-align: center;
  box-shadow: 0 0 30px rgba(255, 215, 0, 0.8);
}
.info-box h2 {
  color: #990000;
  text-shadow: 0 0 10px #ffcc00;
  font-size: 22px;
}
.info-box p {
  color: #400000;
  font-size: 15px;
  font-weight: bold;
}
.levels {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 20px;
}
.level-btn {
  padding: 12px 20px;
  border: 2px solid gold;
  color: #400000;
  background: rgba(255,255,255,0.5);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s;
  font-weight: bold;
  font-size: 14px;
}
.level-btn:hover {
  background: gold;
  color: red;
  box-shadow: 0 0 20px gold;
}

/* 背景装饰 */
.decor {
  position: absolute;
  width: 120px;
  height: 120px;
  opacity: 0.25;
  z-index: 1;
  pointer-events: none;
}
.decor img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: brightness(1.5);
  border: none;
}

/* 第二页 - 思想状态检查 */
#check-page {
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, #ff0000 0%, #ff6600 50%, #ffd700 100%);
  display: none; /* 初始隐藏 */
  justify-content: center;
  align-items: center;
  flex-direction: column;
  z-index: 20;
  text-align: center;
}
#check-page h1 {
  font-size: 32px;
  color: #600000;
  text-shadow: 0 0 10px #ffd700;
  margin-bottom: 20px;
}
.question-area {
  background: rgba(255, 255, 255, 0.3);
  border: 2px solid gold;
  border-radius: 10px;
  padding: 25px;
  max-width: 500px;
  box-shadow: 0 0 20px gold;
}
.question-area p {
  font-size: 18px;
  color: #400000;
  font-weight: bold;
}
.option-btn {
  display: block;
  margin: 10px auto;
  padding: 10px 15px;
  width: 80%;
  border: 2px solid gold;
  background: rgba(255,255,255,0.7);
  color: #400000;
  font-weight: bold;
  border-radius: 6px;
  cursor: pointer;
  transition: 0.3s;
}
.option-btn:hover {
  background: gold;
  color: red;
}
.feedback {
  margin-top: 15px;
  font-size: 18px;
  font-weight: bold;
}

/* 预留音乐播放位置 */
#magnetic-music {
  display: none; /* 可在此嵌入增强磁场音乐 */
}
</style>
</head>
<body>
<div class="header">
  <a href="https://htcb-12c7.github.io/htgov/">
    <img class="logo" src="https://htcb-12c7.github.io/htgov/assets/HTgovIconV2.png">
  </a>
  🌍 黑铁环球洗脑音乐
</div>

<div class="main-container" id="main-page">
  <div class="section-flex">
    <div id="earth-container"></div>
    <div class="info-box">
      <h2>🌏 环球系列 · 八十周年荣耀特展</h2>
      <p>纪念中国人民抗日战争暨世界反法西斯战争胜利80周年。探索“洗脑旋律”的节奏力量。</p>
      <div class="levels">
        <button class="level-btn" onclick="openCheckPage('light')">🌀 轻微洗脑</button>
        <button class="level-btn" onclick="openCheckPage('medium')">⚡ 中等洗脑</button>
        <button class="level-btn" onclick="openCheckPage('heavy')">🔥 重度洗脑</button>
      </div>
    </div>
  </div>
</div>

<!-- 第二页：思想状态检查 -->
<div id="check-page">
  <h1>🧠 思想状态检查</h1>
  <div class="question-area">
    <p id="question-text">题目加载中...</p>
    <div id="options-container"></div>
    <div class="feedback" id="feedback"></div>
  </div>

  <!-- 预留音乐播放区 -->
  <audio id="magnetic-music" src="enhanced_field.mp3" loop></audio>
</div>

<!-- Three.js -->
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/examples/js/controls/OrbitControls.js"></script>

<script>
// 背景地球 (简化旋转)
const container = document.getElementById('earth-container');
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(45, 1, 0.1, 1000);
const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
renderer.setSize(400, 400);
container.appendChild(renderer.domElement);
const ambient = new THREE.AmbientLight(0xff5555, 0.8);
scene.add(ambient);
const light = new THREE.DirectionalLight(0xffdd00, 1);
light.position.set(5, 3, 5);
scene.add(light);
const geometry = new THREE.SphereGeometry(2.5, 64, 64);
const texture = new THREE.TextureLoader().load("https://upload.wikimedia.org/wikipedia/commons/9/97/The_Earth_seen_from_Apollo_17.jpg");
const material = new THREE.MeshPhongMaterial({ map: texture, emissive: 0xaa0000, emissiveIntensity: 0.5 });
const earth = new THREE.Mesh(geometry, material);
scene.add(earth);
camera.position.set(0, 0, 7);
function animate() {
  requestAnimationFrame(animate);
  earth.rotation.y += 0.002;
  renderer.render(scene, camera);
}
animate();

// 固定装饰
const decoImgs = [
  "https://upload.wikimedia.org/wikipedia/commons/0/0d/Flag_of_China.png",
  "https://upload.wikimedia.org/wikipedia/commons/d/d6/Chinese_Lanterns.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/1/10/Great_Wall_of_China_June_2007.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/b/bf/Tiananmen_Gate_2019.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/4/45/Red_scarf.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/9/9f/Dove_symbol_of_peace.svg",
  "https://upload.wikimedia.org/wikipedia/commons/2/2f/Type99A_MBTTank_Parade.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/4/47/Chinese_cloud_pattern.svg"
];
const positions = [
  {top:"8%", left:"5%"},
  {top:"25%", left:"80%"},
  {top:"70%", left:"10%"},
  {top:"75%", left:"75%"},
  {top:"50%", left:"50%"},
  {top:"15%", left:"40%"},
  {top:"55%", left:"30%"},
  {top:"30%", left:"65%"}
];
for (let i=0;i<decoImgs.length;i++){
  const d=document.createElement("div");
  d.className="decor";
  d.style.top=positions[i].top;
  d.style.left=positions[i].left;
  const img=document.createElement("img");
  img.src=decoImgs[i];
  d.appendChild(img);
  document.body.appendChild(d);
}

// 问题模板（你可修改内容）
const questions = {
  light: { q: "轻度题示例：节奏让人记住的原因是？", options: ["重复", "节拍", "旋律复杂"], a: "重复" },
  medium: { q: "中度题示例：常见节奏拍号？", options: ["3/4拍", "4/4拍", "6/8拍"], a: "4/4拍" },
  heavy: { q: "重度题示例：哪种元素最洗脑？", options: ["短句循环", "多段变奏", "弱节奏"], a: "短句循环" }
};

let currentLevel = null;

function openCheckPage(level) {
  document.getElementById("main-page").style.display = "none";
  const page = document.getElementById("check-page");
  page.style.display = "flex";
  currentLevel = level;

  const q = questions[level];
  document.getElementById("question-text").innerText = q.q;
  const opt = document.getElementById("options-container");
  opt.innerHTML = "";
  document.getElementById("feedback").innerText = "";

  q.options.forEach(o => {
    const b = document.createElement("button");
    b.className = "option-btn";
    b.innerText = o;
    b.onclick = () => checkAnswer(o);
    opt.appendChild(b);
  });

  // ✅ 预留播放增强磁场音乐
  // const audio = document.getElementById("magnetic-music");
  // audio.play();
}

function checkAnswer(choice) {
  const correct = questions[currentLevel].a;
  const feedback = document.getElementById("feedback");
  if (choice === correct) {
    feedback.innerHTML = "✅ 正确！思想磁场稳定。";
    feedback.style.color = "#008000";
  } else {
    feedback.innerHTML = "❌ 错误，思想波动检测中...";
    feedback.style.color = "#800000";
  }
}
</script>
</body>
</html>
