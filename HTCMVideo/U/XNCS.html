<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>é»‘é“ç¯çƒæ´—è„‘éŸ³ä¹ - HTCMVideo</title>
<link rel="stylesheet" href="https://htcb-12c7.github.io/htgov/css/htgov.css">
<style>
body {
  margin: 0;
  font-family: "Microsoft YaHei", sans-serif;
  background: linear-gradient(180deg, #400000 0%, #000 100%);
  color: #fff;
  overflow-x: hidden;
}
.header {
  height: 60px;
  background: #000;
  color: gold;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 22px;
  font-weight: bold;
  box-shadow: 0 2px 5px rgba(255,255,255,0.2);
}
.logo {
  position:absolute;
  left:10px;
  top:10px;
  width:40px;
  height:40px;
  border-radius:50%;
  cursor:pointer;
}
.main-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 30px 10px;
}

/* ğŸŒ ä¸»è§†è§‰åŒº */
.section-flex {
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  align-items:center;
  gap:30px;
}
#earth-container {
  width:500px;
  height:500px;
  border-radius:50%;
  box-shadow:0 0 40px rgba(255,0,0,0.8);
}
.info-box {
  flex:1;
  min-width:350px;
  background:rgba(0,0,0,0.5);
  border:2px solid red;
  border-radius:10px;
  padding:20px;
}
.info-box h2 {
  color:gold;
  text-shadow:0 0 8px red;
}
.levels {
  display:flex;
  justify-content:center;
  gap:15px;
  margin-top:20px;
}
.level-btn {
  flex:1;
  padding:12px;
  border:2px solid gold;
  color:gold;
  background:rgba(0,0,0,0.7);
  border-radius:8px;
  cursor:pointer;
  transition:.3s;
}
.level-btn:hover {background:gold;color:black;}

/* å…«ä¸ªè£…é¥°å›¾ */
.decorations {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:20px;
  margin-top:40px;
}
.deco {
  border:2px solid gold;
  border-radius:8px;
  overflow:hidden;
  background:rgba(255,0,0,0.2);
  box-shadow:0 0 10px rgba(255,0,0,0.6);
}
.deco img{width:100%;height:120px;object-fit:cover;}
.deco p{text-align:center;color:gold;margin:5px 0;}

/* æç¤ºæ¡† */
.tooltip {
  position:absolute;
  background:rgba(0,0,0,0.8);
  color:gold;
  padding:5px 8px;
  border-radius:5px;
  font-size:13px;
  display:none;
  z-index:1000;
}

/* é—®ç­”ä¸è§†é¢‘ */
.question-box {
  text-align:center;
  background:rgba(0,0,0,0.8);
  padding:25px;
  border-radius:10px;
  border:2px solid gold;
  max-width:500px;
  margin:40px auto;
}
video {
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  display:none;
  object-fit:cover;
  z-index:9999;
}
</style>
</head>
<body>
<div class="header">
  <a href="https://htcb-12c7.github.io/htgov/"><img class="logo" src="https://htcb-12c7.github.io/htgov/assets/HTgovIconV2.png"></a>
  ğŸŒ é»‘é“ç¯çƒæ´—è„‘éŸ³ä¹
</div>

<div class="main-container">
  <!-- ğŸŒ å·¦åœ°çƒ + å³ä»‹ç» -->
  <div class="section-flex">
    <div id="earth-container"></div>
    <div class="info-box">
      <h2>ğŸŒ ç¯çƒç³»åˆ— Â· å…«åå‘¨å¹´è£è€€ç‰¹å±•</h2>
      <p>çºªå¿µä¸­å›½äººæ°‘æŠ—æ—¥æˆ˜äº‰æš¨ä¸–ç•Œåæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©80å‘¨å¹´ã€‚å±•ç¤ºä¸­å›½ä¸å„å›½éŸ³ä¹æ–‡åŒ–äº¤æµï¼Œæ¢ç´¢â€œæ´—è„‘æ—‹å¾‹â€çš„èŠ‚å¥é­…åŠ›ã€‚</p>
      <div class="levels">
        <button class="level-btn" onclick="startLevel('light')">ğŸŒ€ è½»å¾®æ´—è„‘</button>
        <button class="level-btn" onclick="startLevel('medium')">âš¡ ä¸­ç­‰æ´—è„‘</button>
        <button class="level-btn" onclick="startLevel('heavy')">ğŸ”¥ é‡åº¦æ´—è„‘</button>
      </div>
    </div>
  </div>

  <!-- å…«ä¸ªä¸­å›½å…ƒç´  -->
  <div class="decorations">
    <div class="deco"><img src="https://upload.wikimedia.org/wikipedia/commons/0/0d/Flag_of_China.png"><p>äº”æ˜Ÿçº¢æ——</p></div>
    <div class="deco"><img src="https://upload.wikimedia.org/wikipedia/commons/d/d6/Chinese_Lanterns.jpg"><p>çº¢ç¯ç¬¼</p></div>
    <div class="deco"><img src="https://upload.wikimedia.org/wikipedia/commons/1/10/Great_Wall_of_China_June_2007.jpg"><p>é•¿åŸ</p></div>
    <div class="deco"><img src="https://upload.wikimedia.org/wikipedia/commons/b/bf/Tiananmen_Gate_2019.jpg"><p>å¤©å®‰é—¨</p></div>
    <div class="deco"><img src="https://upload.wikimedia.org/wikipedia/commons/4/45/Red_scarf.jpg"><p>çº¢é¢†å·¾</p></div>
    <div class="deco"><img src="https://upload.wikimedia.org/wikipedia/commons/9/9f/Dove_symbol_of_peace.svg"><p>å’Œå¹³é¸½</p></div>
    <div class="deco"><img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Type99A_MBTTank_Parade.jpg"><p>é˜…å…µå¦å…‹</p></div>
    <div class="deco"><img src="https://upload.wikimedia.org/wikipedia/commons/4/47/Chinese_cloud_pattern.svg"><p>ç¥¥äº‘çº¹é¥°</p></div>
  </div>
</div>

<!-- é—®é¢˜åŒº -->
<div id="quiz-section" class="hidden">
  <div class="question-box">
    <h3>éŸ³ä¹é—®ç­”</h3>
    <p id="question">è¿™é‡Œæ˜¾ç¤ºé—®é¢˜</p>
    <div id="options"></div>
  </div>
</div>

<video id="video-player" controls></video>
<div class="tooltip" id="tooltip"></div>

<!-- Three.js -->
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/examples/js/controls/OrbitControls.js"></script>
<script>
// --- 3D åœ°çƒ ---
const container=document.getElementById('earth-container');
const tooltip=document.getElementById('tooltip');
const scene=new THREE.Scene();
const camera=new THREE.PerspectiveCamera(45,1,0.1,1000);
const renderer=new THREE.WebGLRenderer({antialias:true,alpha:true});
renderer.setSize(500,500);
container.appendChild(renderer.domElement);
const ambient=new THREE.AmbientLight(0xff4444,0.6);
scene.add(ambient);
const light=new THREE.DirectionalLight(0xff8888,1);
light.position.set(5,3,5);scene.add(light);
const geometry=new THREE.SphereGeometry(2.5,64,64);
const texture=new THREE.TextureLoader().load("https://upload.wikimedia.org/wikipedia/commons/9/97/The_Earth_seen_from_Apollo_17.jpg");
const material=new THREE.MeshPhongMaterial({map:texture,emissive:0x220000,emissiveIntensity:0.4});
const earth=new THREE.Mesh(geometry,material);
scene.add(earth);
const allies=[
{name:"ä¸­å›½",lat:35,lon:105,desc:"æ ¸å¿ƒ"},
{name:"ä¿„ç½—æ–¯",lat:60,lon:90,desc:"ä¼™ä¼´"},
{name:"å·´åŸºæ–¯å¦",lat:30,lon:70,desc:"å‹é‚¦"},
{name:"æœé²œ",lat:40,lon:125,desc:"é‚»é‚¦"},
{name:"ä¼Šæœ—",lat:32,lon:53,desc:"åˆä½œ"},
{name:"ç™½ä¿„ç½—æ–¯",lat:53,lon:28,desc:"ä¼™ä¼´"},
{name:"å¤å·´",lat:21.5,lon:-80,desc:"å‹é‚¦"},
{name:"å§”å†…ç‘æ‹‰",lat:7,lon:-66,desc:"åˆä½œ"}
];
const group=new THREE.Group();scene.add(group);
const mat=new THREE.MeshBasicMaterial({color:0xff0000});
allies.forEach(a=>{
 const lat=a.lat*Math.PI/180,lon=-a.lon*Math.PI/180;
 const x=2.5*Math.cos(lat)*Math.cos(lon);
 const y=2.5*Math.sin(lat);
 const z=2.5*Math.cos(lat)*Math.sin(lon);
 const m=new THREE.Mesh(new THREE.SphereGeometry(0.05,16,16),mat);
 m.position.set(x,y,z);m.userData=a;group.add(m);
});
camera.position.set(0,0,7);
const controls=new THREE.OrbitControls(camera,renderer.domElement);
controls.enableZoom=false;
const ray=new THREE.Raycaster(),mouse=new THREE.Vector2();
window.addEventListener('mousemove',e=>{
 mouse.x=(e.clientX/container.clientWidth)*2-1;
 mouse.y=-(e.clientY/container.clientHeight)*2+1;
});
function animate(){
 requestAnimationFrame(animate);
 earth.rotation.y+=0.002;group.rotation.y+=0.002;
 ray.setFromCamera(mouse,camera);
 const hit=ray.intersectObjects(group.children);
 if(hit.length>0){
  const d=hit[0].object.userData;
  tooltip.style.display='block';
  tooltip.style.left=event.clientX+15+'px';
  tooltip.style.top=event.clientY+15+'px';
  tooltip.innerHTML=d.name;
 }else tooltip.style.display='none';
 renderer.render(scene,camera);
}
animate();
</script>

<script>
// --- é—®ç­”ä¸éŸ³ä¹æ’­æ”¾ ---
const questions={
 light:{q:"å“ªç§èŠ‚å¥æœ€å®¹æ˜“è®©äººè®°ä½ï¼Ÿ",a:"é‡å¤æ—‹å¾‹",options:["é•¿éŸ³ç¬¦","é‡å¤æ—‹å¾‹","å¤æ‚èŠ‚å¥"]},
 medium:{q:"å¸¸è§çš„â€˜æ´—è„‘æ­Œâ€™èŠ‚å¥å¤šä¸ºå‡ æ‹ï¼Ÿ",a:"4/4æ‹",options:["3/4æ‹","4/4æ‹","5/4æ‹"]},
 heavy:{q:"å“ªç§å…ƒç´ æœ€å®¹æ˜“é€ æˆéŸ³ä¹ä¸Šç˜¾ï¼Ÿ",a:"çŸ­å¥å¾ªç¯",options:["èŠ‚å¥å˜åŒ–","çŸ­å¥å¾ªç¯","è½¬è°ƒ"]},
};
let currentLevel=null;
function startLevel(l){
 document.getElementById('quiz-section').classList.remove('hidden');
 currentLevel=l;
 const q=questions[l];
 document.getElementById('question').innerText=q.q;
 const opt=document.getElementById('options');
 opt.innerHTML='';
 q.options.forEach(o=>{
  const b=document.createElement('button');
  b.innerText=o;
  b.style.margin='8px';
  b.onclick=()=>checkAnswer(o);
  opt.appendChild(b);
 });
}
function checkAnswer(c){
 if(c===questions[currentLevel].a){
  playSequence();
 }else alert("ç­”é”™å•¦ï¼Œå†è¯•ä¸€æ¬¡ï¼");
}
function playSequence(){
 document.getElementById('quiz-section').classList.add('hidden');
 const v=document.getElementById('video-player');
 v.style.display='block';
 v.src="magnetic.mp4";v.requestFullscreen();v.play();
 preventMute(v);
 v.onended=()=>{
  v.src="brainwash.mp4";v.play();preventMute(v);
  v.onended=()=>{
   v.src="anti_brainwash.mp4";v.play();preventMute(v);
   v.onended=()=>{
    document.exitFullscreen();
    v.style.display='none';
   };
  };
 };
}
function preventMute(v){
 setInterval(()=>{
  if(v.muted||v.volume<0.5){v.muted=false;v.volume=1;}
  if(v.paused)v.play();
 },3000);
}
</script>
</body>
</html>
