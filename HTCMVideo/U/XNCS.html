<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>黑铁环球洗脑音乐 - HTCMVideo</title>
<link rel="stylesheet" href="https://htcb-12c7.github.io/htgov/css/htgov.css">
<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden; /* 🚫 禁止滚动 */
  font-family: "Microsoft YaHei", sans-serif;
  background: radial-gradient(circle at center, #ff0000 0%, #b00000 40%, #000000 100%);
  position: relative;
  color: #fff;
}

/* 顶部栏 */
.header {
  height: 60px;
  background: linear-gradient(90deg, #ff0000, #ffcc00);
  color: #000;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 22px;
  font-weight: bold;
  text-shadow: 0 0 6px #fff;
  box-shadow: 0 2px 10px rgba(255, 255, 0, 0.6);
}
.logo {
  position: absolute;
  left: 10px;
  top: 10px;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  cursor: pointer;
}

/* 主体容器：垂直居中 */
.main-container {
  position: absolute;
  top: 60px;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
}

/* 🌏 主视觉区 */
.section-flex {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 50px;
}
#earth-container {
  width: 400px;
  height: 400px;
  border-radius: 50%;
  box-shadow: 0 0 60px rgba(255, 215, 0, 0.9);
}

/* 信息区 */
.info-box {
  width: 420px;
  background: rgba(0, 0, 0, 0.5);
  border: 2px solid gold;
  border-radius: 15px;
  padding: 20px;
  text-align: center;
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
}
.info-box h2 {
  color: gold;
  text-shadow: 0 0 8px #ff0000;
  font-size: 22px;
}
.info-box p {
  color: #fff;
  font-size: 15px;
}
.levels {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 20px;
}
.level-btn {
  padding: 12px 20px;
  border: 2px solid gold;
  color: gold;
  background: rgba(0,0,0,0.7);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s;
  font-weight: bold;
  font-size: 14px;
  text-shadow: 0 0 4px #ff0000;
}
.level-btn:hover {
  background: gold;
  color: black;
  box-shadow: 0 0 15px gold;
}

/* 🚫 不再显示的装饰容器框，改为全屏背景漂浮图像 */
.decor {
  position: absolute;
  width: 120px;
  height: 120px;
  opacity: 0.25;
  z-index: 0;
  pointer-events: none;
  transition: transform 10s linear;
}
.decor img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: brightness(1.3);
  border: none;
}

/* 问答区 */
#quiz-section {
  position: absolute;
  bottom: 50px;
  width: 100%;
  text-align: center;
}
.question-box {
  display: inline-block;
  background: rgba(0,0,0,0.8);
  padding: 20px;
  border: 2px solid gold;
  border-radius: 10px;
  color: gold;
}
.question-box button {
  background: black;
  color: gold;
  border: 1px solid gold;
  margin: 6px;
  padding: 8px 14px;
  cursor: pointer;
  border-radius: 6px;
}
.question-box button:hover {
  background: gold;
  color: black;
}

video {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: none;
  z-index: 9999;
}
.tooltip {
  position: absolute;
  background: rgba(0,0,0,0.7);
  color: gold;
  padding: 5px 8px;
  border-radius: 5px;
  font-size: 13px;
  display: none;
  z-index: 1000;
}
</style>
</head>
<body>
<div class="header">
  <a href="https://htcb-12c7.github.io/htgov/">
    <img class="logo" src="https://htcb-12c7.github.io/htgov/assets/HTgovIconV2.png">
  </a>
  🌍 黑铁环球洗脑音乐
</div>

<div class="main-container">
  <div class="section-flex">
    <div id="earth-container"></div>
    <div class="info-box">
      <h2>🌏 环球系列 · 八十周年荣耀特展</h2>
      <p>纪念中国人民抗日战争暨世界反法西斯战争胜利80周年。展示中国与各国音乐文化交流，探索“洗脑旋律”的节奏魅力。</p>
      <div class="levels">
        <button class="level-btn" onclick="startLevel('light')">🌀 轻微洗脑</button>
        <button class="level-btn" onclick="startLevel('medium')">⚡ 中等洗脑</button>
        <button class="level-btn" onclick="startLevel('heavy')">🔥 重度洗脑</button>
      </div>
    </div>
  </div>
</div>

<div id="quiz-section" class="hidden">
  <div class="question-box">
    <h3>音乐问答</h3>
    <p id="question">这里显示问题</p>
    <div id="options"></div>
  </div>
</div>

<video id="video-player" controls></video>
<div class="tooltip" id="tooltip"></div>

<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/examples/js/controls/OrbitControls.js"></script>
<script>
// --- 地球展示 ---
const container = document.getElementById('earth-container');
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(45, 1, 0.1, 1000);
const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
renderer.setSize(400, 400);
container.appendChild(renderer.domElement);
const ambient = new THREE.AmbientLight(0xff4444, 0.7);
scene.add(ambient);
const light = new THREE.DirectionalLight(0xffcc66, 1);
light.position.set(5, 3, 5);
scene.add(light);
const geometry = new THREE.SphereGeometry(2.5, 64, 64);
const texture = new THREE.TextureLoader().load("https://upload.wikimedia.org/wikipedia/commons/9/97/The_Earth_seen_from_Apollo_17.jpg");
const material = new THREE.MeshPhongMaterial({ map: texture, emissive: 0x550000, emissiveIntensity: 0.5 });
const earth = new THREE.Mesh(geometry, material);
scene.add(earth);
camera.position.set(0, 0, 7);
const controls = new THREE.OrbitControls(camera, renderer.domElement);
controls.enableZoom = false;
function animate() {
  requestAnimationFrame(animate);
  earth.rotation.y += 0.003;
  renderer.render(scene, camera);
}
animate();

// --- 背景装饰生成 ---
const decoImgs = [
  "https://upload.wikimedia.org/wikipedia/commons/0/0d/Flag_of_China.png",
  "https://upload.wikimedia.org/wikipedia/commons/d/d6/Chinese_Lanterns.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/1/10/Great_Wall_of_China_June_2007.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/b/bf/Tiananmen_Gate_2019.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/4/45/Red_scarf.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/9/9f/Dove_symbol_of_peace.svg",
  "https://upload.wikimedia.org/wikipedia/commons/2/2f/Type99A_MBTTank_Parade.jpg",
  "https://upload.wikimedia.org/wikipedia/commons/4/47/Chinese_cloud_pattern.svg"
];
for (let i = 0; i < decoImgs.length; i++) {
  const d = document.createElement('div');
  d.className = 'decor';
  const img = document.createElement('img');
  img.src = decoImgs[i];
  d.style.top = Math.random() * 80 + '%';
  d.style.left = Math.random() * 80 + '%';
  d.appendChild(img);
  document.body.appendChild(d);
}

// --- 问答与音乐播放 ---
const questions = {
  light: { q: "哪种节奏最容易让人记住？", a: "重复旋律", options: ["长音符", "重复旋律", "复杂节奏"] },
  medium: { q: "常见的‘洗脑歌’节奏多为几拍？", a: "4/4拍", options: ["3/4拍", "4/4拍", "5/4拍"] },
  heavy: { q: "哪种元素最容易造成音乐上瘾？", a: "短句循环", options: ["节奏变化", "短句循环", "转调"] }
};
let currentLevel = null;
function startLevel(l) {
  document.getElementById('quiz-section').classList.remove('hidden');
  currentLevel = l;
  const q = questions[l];
  document.getElementById('question').innerText = q.q;
  const opt = document.getElementById('options');
  opt.innerHTML = '';
  q.options.forEach(o => {
    const b = document.createElement('button');
    b.innerText = o;
    b.onclick = () => checkAnswer(o);
    opt.appendChild(b);
  });
}
function checkAnswer(c) {
  if (c === questions[currentLevel].a) {
    playSequence();
  } else alert("答错啦，再试一次！");
}
function playSequence() {
  document.getElementById('quiz-section').classList.add('hidden');
  const v = document.getElementById('video-player');
  v.style.display = 'block';
  v.src = "magnetic.mp4";
  v.requestFullscreen();
  v.play();
  v.onended = () => {
    v.src = "brainwash.mp4";
    v.play();
    v.onended = () => {
      v.src = "anti_brainwash.mp4";
      v.play();
      v.onended = () => {
        document.exitFullscreen();
        v.style.display = 'none';
      };
    };
  };
}
</script>
</body>
</html>
