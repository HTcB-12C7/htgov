<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>黑铁环球洗脑音乐 - HTCMVideo</title>
<link rel="stylesheet" href="https://htcb-12c7.github.io/htgov/css/htgov.css">
<style>
body {
  margin: 0;
  font-family: "Microsoft YaHei", sans-serif;
  background: linear-gradient(180deg, #400000 0%, #000 100%);
  color: #fff;
  overflow-x: hidden;
}
.header {
  height: 60px;
  background: #000;
  color: gold;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 22px;
  font-weight: bold;
  box-shadow: 0 2px 5px rgba(255,255,255,0.2);
}
.logo {
  position:absolute;
  left:10px;
  top:10px;
  width:40px;
  height:40px;
  border-radius:50%;
  cursor:pointer;
}
.main-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 30px 10px;
}

/* 🌏 主视觉区 */
.section-flex {
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  align-items:center;
  gap:30px;
}
#earth-container {
  width:500px;
  height:500px;
  border-radius:50%;
  box-shadow:0 0 40px rgba(255,0,0,0.8);
}
.info-box {
  flex:1;
  min-width:350px;
  background:rgba(0,0,0,0.5);
  border:2px solid red;
  border-radius:10px;
  padding:20px;
}
.info-box h2 {
  color:gold;
  text-shadow:0 0 8px red;
}
.levels {
  display:flex;
  justify-content:center;
  gap:15px;
  margin-top:20px;
}
.level-btn {
  flex:1;
  padding:12px;
  border:2px solid gold;
  color:gold;
  background:rgba(0,0,0,0.7);
  border-radius:8px;
  cursor:pointer;
  transition:.3s;
}
.level-btn:hover {background:gold;color:black;}

/* 八个装饰图 */
.decorations {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:20px;
  margin-top:40px;
}
.deco {
  border:2px solid gold;
  border-radius:8px;
  overflow:hidden;
  background:rgba(255,0,0,0.2);
  box-shadow:0 0 10px rgba(255,0,0,0.6);
}
.deco img{width:100%;height:120px;object-fit:cover;}
.deco p{text-align:center;color:gold;margin:5px 0;}

/* 提示框 */
.tooltip {
  position:absolute;
  background:rgba(0,0,0,0.8);
  color:gold;
  padding:5px 8px;
  border-radius:5px;
  font-size:13px;
  display:none;
  z-index:1000;
}

/* 问答与视频 */
.question-box {
  text-align:center;
  background:rgba(0,0,0,0.8);
  padding:25px;
  border-radius:10px;
  border:2px solid gold;
  max-width:500px;
  margin:40px auto;
}
video {
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  display:none;
  object-fit:cover;
  z-index:9999;
}
</style>
</head>
<body>
<div class="header">
  <a href="https://htcb-12c7.github.io/htgov/"><img class="logo" src="https://htcb-12c7.github.io/htgov/assets/HTgovIconV2.png"></a>
  🌍 黑铁环球洗脑音乐
</div>

<div class="main-container">
  <!-- 🌏 左地球 + 右介绍 -->
  <div class="section-flex">
    <div id="earth-container"></div>
    <div class="info-box">
      <h2>🌏 环球系列 · 八十周年荣耀特展</h2>
      <p>纪念中国人民抗日战争暨世界反法西斯战争胜利80周年。展示中国与各国音乐文化交流，探索“洗脑旋律”的节奏魅力。</p>
      <div class="levels">
        <button class="level-btn" onclick="startLevel('light')">🌀 轻微洗脑</button>
        <button class="level-btn" onclick="startLevel('medium')">⚡ 中等洗脑</button>
        <button class="level-btn" onclick="startLevel('heavy')">🔥 重度洗脑</button>
      </div>
    </div>
  </div>

  <!-- 八个中国元素 -->
  <div class="decorations">
    <div class="deco"><img src="https://upload.wikimedia.org/wikipedia/commons/0/0d/Flag_of_China.png"><p>五星红旗</p></div>
    <div class="deco"><img src="https://upload.wikimedia.org/wikipedia/commons/d/d6/Chinese_Lanterns.jpg"><p>红灯笼</p></div>
    <div class="deco"><img src="https://upload.wikimedia.org/wikipedia/commons/1/10/Great_Wall_of_China_June_2007.jpg"><p>长城</p></div>
    <div class="deco"><img src="https://upload.wikimedia.org/wikipedia/commons/b/bf/Tiananmen_Gate_2019.jpg"><p>天安门</p></div>
    <div class="deco"><img src="https://upload.wikimedia.org/wikipedia/commons/4/45/Red_scarf.jpg"><p>红领巾</p></div>
    <div class="deco"><img src="https://upload.wikimedia.org/wikipedia/commons/9/9f/Dove_symbol_of_peace.svg"><p>和平鸽</p></div>
    <div class="deco"><img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Type99A_MBTTank_Parade.jpg"><p>阅兵坦克</p></div>
    <div class="deco"><img src="https://upload.wikimedia.org/wikipedia/commons/4/47/Chinese_cloud_pattern.svg"><p>祥云纹饰</p></div>
  </div>
</div>

<!-- 问题区 -->
<div id="quiz-section" class="hidden">
  <div class="question-box">
    <h3>音乐问答</h3>
    <p id="question">这里显示问题</p>
    <div id="options"></div>
  </div>
</div>

<video id="video-player" controls></video>
<div class="tooltip" id="tooltip"></div>

<!-- Three.js -->
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/examples/js/controls/OrbitControls.js"></script>
<script>
// --- 3D 地球 ---
const container=document.getElementById('earth-container');
const tooltip=document.getElementById('tooltip');
const scene=new THREE.Scene();
const camera=new THREE.PerspectiveCamera(45,1,0.1,1000);
const renderer=new THREE.WebGLRenderer({antialias:true,alpha:true});
renderer.setSize(500,500);
container.appendChild(renderer.domElement);
const ambient=new THREE.AmbientLight(0xff4444,0.6);
scene.add(ambient);
const light=new THREE.DirectionalLight(0xff8888,1);
light.position.set(5,3,5);scene.add(light);
const geometry=new THREE.SphereGeometry(2.5,64,64);
const texture=new THREE.TextureLoader().load("https://upload.wikimedia.org/wikipedia/commons/9/97/The_Earth_seen_from_Apollo_17.jpg");
const material=new THREE.MeshPhongMaterial({map:texture,emissive:0x220000,emissiveIntensity:0.4});
const earth=new THREE.Mesh(geometry,material);
scene.add(earth);
const allies=[
{name:"中国",lat:35,lon:105,desc:"核心"},
{name:"俄罗斯",lat:60,lon:90,desc:"伙伴"},
{name:"巴基斯坦",lat:30,lon:70,desc:"友邦"},
{name:"朝鲜",lat:40,lon:125,desc:"邻邦"},
{name:"伊朗",lat:32,lon:53,desc:"合作"},
{name:"白俄罗斯",lat:53,lon:28,desc:"伙伴"},
{name:"古巴",lat:21.5,lon:-80,desc:"友邦"},
{name:"委内瑞拉",lat:7,lon:-66,desc:"合作"}
];
const group=new THREE.Group();scene.add(group);
const mat=new THREE.MeshBasicMaterial({color:0xff0000});
allies.forEach(a=>{
 const lat=a.lat*Math.PI/180,lon=-a.lon*Math.PI/180;
 const x=2.5*Math.cos(lat)*Math.cos(lon);
 const y=2.5*Math.sin(lat);
 const z=2.5*Math.cos(lat)*Math.sin(lon);
 const m=new THREE.Mesh(new THREE.SphereGeometry(0.05,16,16),mat);
 m.position.set(x,y,z);m.userData=a;group.add(m);
});
camera.position.set(0,0,7);
const controls=new THREE.OrbitControls(camera,renderer.domElement);
controls.enableZoom=false;
const ray=new THREE.Raycaster(),mouse=new THREE.Vector2();
window.addEventListener('mousemove',e=>{
 mouse.x=(e.clientX/container.clientWidth)*2-1;
 mouse.y=-(e.clientY/container.clientHeight)*2+1;
});
function animate(){
 requestAnimationFrame(animate);
 earth.rotation.y+=0.002;group.rotation.y+=0.002;
 ray.setFromCamera(mouse,camera);
 const hit=ray.intersectObjects(group.children);
 if(hit.length>0){
  const d=hit[0].object.userData;
  tooltip.style.display='block';
  tooltip.style.left=event.clientX+15+'px';
  tooltip.style.top=event.clientY+15+'px';
  tooltip.innerHTML=d.name;
 }else tooltip.style.display='none';
 renderer.render(scene,camera);
}
animate();
</script>

<script>
// --- 问答与音乐播放 ---
const questions={
 light:{q:"哪种节奏最容易让人记住？",a:"重复旋律",options:["长音符","重复旋律","复杂节奏"]},
 medium:{q:"常见的‘洗脑歌’节奏多为几拍？",a:"4/4拍",options:["3/4拍","4/4拍","5/4拍"]},
 heavy:{q:"哪种元素最容易造成音乐上瘾？",a:"短句循环",options:["节奏变化","短句循环","转调"]},
};
let currentLevel=null;
function startLevel(l){
 document.getElementById('quiz-section').classList.remove('hidden');
 currentLevel=l;
 const q=questions[l];
 document.getElementById('question').innerText=q.q;
 const opt=document.getElementById('options');
 opt.innerHTML='';
 q.options.forEach(o=>{
  const b=document.createElement('button');
  b.innerText=o;
  b.style.margin='8px';
  b.onclick=()=>checkAnswer(o);
  opt.appendChild(b);
 });
}
function checkAnswer(c){
 if(c===questions[currentLevel].a){
  playSequence();
 }else alert("答错啦，再试一次！");
}
function playSequence(){
 document.getElementById('quiz-section').classList.add('hidden');
 const v=document.getElementById('video-player');
 v.style.display='block';
 v.src="magnetic.mp4";v.requestFullscreen();v.play();
 preventMute(v);
 v.onended=()=>{
  v.src="brainwash.mp4";v.play();preventMute(v);
  v.onended=()=>{
   v.src="anti_brainwash.mp4";v.play();preventMute(v);
   v.onended=()=>{
    document.exitFullscreen();
    v.style.display='none';
   };
  };
 };
}
function preventMute(v){
 setInterval(()=>{
  if(v.muted||v.volume<0.5){v.muted=false;v.volume=1;}
  if(v.paused)v.play();
 },3000);
}
</script>
</body>
</html>
