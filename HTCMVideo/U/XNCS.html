<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>黑铁环球洗脑实验 - HTCMVideo</title>
<link rel="stylesheet" href="https://htcb-12c7.github.io/htgov/css/htgov.css">
<style>
body {
  margin: 0; background: radial-gradient(circle at center, #001018 30%, #000 90%);
  color: white; font-family: "Microsoft YaHei", sans-serif;
  overflow-x: hidden;
}
.header {
  position: relative; height: 60px; background: black; color: gold;
  display: flex; align-items: center; justify-content: center;
  font-size: 22px; font-weight: bold; box-shadow: 0 2px 5px rgba(255,255,255,0.1);
}
.logo {position:absolute;left:10px;top:10px;width:40px;height:40px;border-radius:50%;cursor:pointer;}
.main-container {padding:40px;text-align:center;}
/* 🌍 环球背景动画 */
@keyframes spinEarth { from {transform: rotate(0deg);} to {transform: rotate(360deg);} }
.earth {
  margin: 20px auto; width: 150px; height:150px;
  background: url('https://upload.wikimedia.org/wikipedia/commons/9/97/The_Earth_seen_from_Apollo_17.jpg') no-repeat center/cover;
  border-radius: 50%; animation: spinEarth 20s linear infinite; box-shadow: 0 0 20px cyan;
}
/* 🎀 红领巾装饰 */
.ribbon {
  width: 100px; height: 100px; margin: 0 auto; position: relative;
}
.ribbon::before, .ribbon::after {
  content: ""; position: absolute; top: 0; width: 50px; height: 100px; background: red;
}
.ribbon::before { left: 0; transform: skew(-20deg);}
.ribbon::after { right: 0; transform: skew(20deg);}
.intro {
  max-width: 700px; margin: 20px auto; font-size: 18px; color: #f5f5f5; line-height: 1.7;
  border: 2px solid gold; border-radius: 10px; padding: 15px; background: rgba(0,0,0,0.4);
}
/* 等级按钮 */
.levels {
  display: flex; justify-content: center; gap: 20px; margin-top: 30px;
}
.level-btn {
  padding: 20px 40px; font-size: 20px; border-radius: 15px; border: 2px solid gold;
  color: gold; background: rgba(0,0,0,0.7); cursor: pointer;
  transition: 0.3s;
}
.level-btn:hover {background: gold; color: black;}
.hidden {display: none;}
.question-box {
  background: rgba(0,0,0,0.8); padding: 30px; border-radius: 15px; width: 90%; max-width: 600px;
  margin: 0 auto; font-size: 18px; border: 2px solid gold;
}
video {
  width: 100vw; height: 100vh; object-fit: cover;
  position: fixed; top: 0; left: 0; display: none; z-index: 9999;
}
</style>
</head>
<body>

<div class="header">
  <a href="https://htcb-12c7.github.io/htgov/"><img class="logo" src="https://htcb-12c7.github.io/htgov/assets/HTgovIconV2.png"></a>
  🌍 黑铁环球洗脑实验室
</div>

<div class="main-container">
  <div class="earth"></div>
  <div class="ribbon"></div>
  <div class="intro">
    <h2>环球系列介绍（你来填写）</h2>
    <p>此处为介绍文本预留区，可写“增强磁场原理”、“洗脑曲分析”、“防洗脑系统”等说明。</p>
  </div>

  <div class="levels">
    <button class="level-btn" onclick="startLevel('light')">🌀 轻微洗脑</button>
    <button class="level-btn" onclick="startLevel('medium')">⚡ 中等洗脑</button>
    <button class="level-btn" onclick="startLevel('heavy')">🔥 重度洗脑</button>
  </div>
</div>

<!-- 问题与播放流程区 -->
<div id="quiz-section" class="hidden">
  <div class="question-box">
    <h3>中国问题（预留）</h3>
    <p id="question">这里会显示问题</p>
    <div id="options"></div>
  </div>
</div>

<!-- 视频播放区 -->
<video id="video-player" controls></video>

<script>
// 🧠 问题模拟（你后续可替换）
const questions = {
  light: { q: "中国的首都是？", a: "北京", options: ["上海","北京","深圳"] },
  medium: { q: "中华人民共和国成立于哪一年？", a: "1949", options: ["1937","1945","1949"] },
  heavy: { q: "中国国旗有几颗星？", a: "5", options: ["4","5","6"] }
};
let currentLevel = null;

// 🧩 开始关卡
function startLevel(level) {
  document.querySelector('.main-container').classList.add('hidden');
  const sec = document.getElementById('quiz-section');
  sec.classList.remove('hidden');
  currentLevel = level;
  const q = questions[level];
  document.getElementById('question').innerText = q.q;
  const optContainer = document.getElementById('options');
  optContainer.innerHTML = '';
  q.options.forEach(opt=>{
    const btn = document.createElement('button');
    btn.innerText = opt;
    btn.style.margin='10px'; btn.onclick=()=>checkAnswer(opt);
    optContainer.appendChild(btn);
  });
}

// ✅ 校验答案
function checkAnswer(choice){
  const correct = questions[currentLevel].a;
  if(choice===correct){
    alert("✅ 回答正确，开始磁场增强...");
    startSequence();
  }else{
    alert("❌ 错误，再试一次。");
  }
}

// 🎧 播放流程：增强磁场→洗脑→防洗脑
function startSequence(){
  document.getElementById('quiz-section').classList.add('hidden');
  const player = document.getElementById('video-player');
  player.style.display = 'block';
  player.src = "magnetic.mp4"; // 🔸预留增强磁场视频
  player.requestFullscreen();

  player.play();
  preventMute(player);

  player.onended = () => {
    player.src = "brainwash.mp4"; // 🔸洗脑歌曲
    player.play();
    preventMute(player);
    player.onended = () => {
      player.src = "anti_brainwash.mp4"; // 🔸防洗脑
      player.play();
      preventMute(player);
      player.onended = () => {
        document.exitFullscreen();
        player.style.display='none';
        document.querySelector('.main-container').classList.remove('hidden');
        alert("✅ 实验完成，欢迎回归理智。");
      };
    };
  };
}

// 🚫 防静音检测
function preventMute(video){
  const check = setInterval(()=>{
    if(video.muted || video.volume<0.5){
      video.muted = false;
      video.volume = 1;
      alert("🔊 检测到静音！系统已恢复音量。");
    }
    if(video.paused) video.play();
  },3000);
}
</script>

</body>
</html>
