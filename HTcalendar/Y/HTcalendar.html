<div class="calendar-wrapper">
  <!-- 顶部太阳罗盘 -->
  <div class="time-display">
    <div class="sun-compass">
      <div class="shadow" id="shadow-hand"></div>
      <div class="center-dot"></div>
      <!-- 数字刻度 -->
      <div class="dial">
        <span style="--i:1">1</span><span style="--i:2">2</span>
        <span style="--i:3">3</span><span style="--i:4">4</span>
        <span style="--i:5">5</span><span style="--i:6">6</span>
        <span style="--i:7">7</span><span style="--i:8">8</span>
        <span style="--i:9">9</span><span style="--i:10">10</span>
        <span style="--i:11">11</span><span style="--i:12">12</span>
      </div>
    </div>
    <div class="clock-text" id="clock-text">北京时间：00:00:00</div>
    <div class="toggle-buttons">
      <label><input type="radio" name="region" value="china" checked> 中国时间</label>
      <label><input type="radio" name="region" value="usa"> 美国时间</label>
    </div>
  </div>

  <!-- 日历选择器 -->
  <div class="calendar-controls">
    <label><input type="checkbox" class="calendar-toggle" value="china" checked> 显示中国日历</label>
    <label><input type="checkbox" class="calendar-toggle" value="huangli" checked> 显示黄历</label>
    <label><input type="checkbox" class="calendar-toggle" value="usa" checked> 显示美国日历</label>
  </div>

  <!-- 日历展示区域 -->
  <div class="calendar-content">
    <div id="calendar-china" class="calendar-block">📅 中国日历：2025年5月13日</div>
    <div id="calendar-huangli" class="calendar-block">🧧 黄历：宜出行 忌搬家</div>
    <div id="calendar-usa" class="calendar-block">📆 美国日历：May 13, 2025 (Tuesday)</div>
  </div>
</div>

<style>
.calendar-wrapper {
  color: #ffd700;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #3e2723, #6d4c41, #b71c1c);
  padding: 20px;
  border-radius: 10px;
}
.time-display {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-bottom: 20px;
}
.sun-compass {
  width: 120px;
  height: 120px;
  position: relative;
  background: radial-gradient(circle at center, #ffeb3b 10%, #f57f17 70%, #3e2723 100%);
  border-radius: 50%;
  box-shadow: 0 0 20px #ff9800;
}
.shadow {
  position: absolute;
  width: 2px;
  height: 50px;
  background: gold;
  top: 10px;
  left: 59px;
  transform-origin: bottom;
  transition: transform 0.5s linear;
}
.center-dot {
  width: 10px;
  height: 10px;
  background: red;
  border-radius: 50%;
  position: absolute;
  top: 55px;
  left: 55px;
}
.dial span {
  position: absolute;
  width: 20px;
  text-align: center;
  color: white;
  font-size: 12px;
  transform: rotate(calc(var(--i) * 30deg));
  transform-origin: 60px 60px;
  top: 45px;
  left: 45px;
}
.clock-text {
  font-size: 20px;
  font-weight: bold;
  color: #fff8e1;
}
.toggle-buttons label {
  margin-right: 15px;
}
.calendar-controls {
  margin-bottom: 20px;
}
.calendar-controls label {
  margin-right: 20px;
  color: #f44336;
}
.calendar-content .calendar-block {
  padding: 15px;
  margin: 10px 0;
  background: rgba(0,0,0,0.6);
  border-left: 5px solid gold;
  border-radius: 5px;
  color: #ffc107;
}
</style>

<script>
function updateTime() {
  const region = document.querySelector('input[name="region"]:checked').value;
  const now = new Date();
  let displayTime = now;

  if (region === 'china') {
    displayTime = new Date(now.toLocaleString("en-US", { timeZone: "Asia/Shanghai" }));
  } else {
    displayTime = new Date(now.toLocaleString("en-US", { timeZone: "America/Los_Angeles" }));
  }

  const hh = displayTime.getHours().toString().padStart(2, '0');
  const mm = displayTime.getMinutes().toString().padStart(2, '0');
  const ss = displayTime.getSeconds().toString().padStart(2, '0');

  document.getElementById("clock-text").textContent =
    (region === 'china' ? "北京时间：" : "美西时间：") + `${hh}:${mm}:${ss}`;

  const angle = ((hh % 12) * 60 + displayTime.getMinutes()) * 0.5;
  document.getElementById("shadow-hand").style.transform = `rotate(${angle}deg)`;
}

// 控制日历显示
document.querySelectorAll(".calendar-toggle").forEach(cb => {
  cb.addEventListener("change", () => {
    const id = `calendar-${cb.value}`;
    document.getElementById(id).style.display = cb.checked ? "block" : "none";
  });
});

// 时间切换监听
document.querySelectorAll('input[name="region"]').forEach(radio => {
  radio.addEventListener("change", updateTime);
});

setInterval(updateTime, 1000);
updateTime();
</script>

