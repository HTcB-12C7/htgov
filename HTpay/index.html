<!DOCTYPE html>
            <html lang="zh-CN">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>VIP 支付</title>
                <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
                <script>
                    (function(){
                        emailjs.init("sbFx6huxFVrhXPqr5"); // 你的 EmailJS user_id
                    })();
                    
                    async function sendEmail(event) {
                        event.preventDefault();
                        const form = event.target;
                        const formData = new FormData(form);
                        const data = Object.fromEntries(formData.entries());

                        try {
                            const response = await emailjs.send("htcoutlook01", "t_htcoutlook01", {
                                name: data.name,
                                email: data.email,
                                message: data.message
                            });

                            alert("表单提交成功！感谢您的下单。");
                        } catch (error) {
                            alert("表单发送失败：" + error.text);
                        }
                    }
                </script>
			
                <style>
                    body {
                        margin: 0;
                        padding: 0;
                        font-family: Arial, sans-serif;
                        background-color: #3e2723; 
                        display: flex;
                        height: 100vh;
                        color: #e0e0e0;
                        flex-direction: column;
                    }

                    /* 顶部横幅 */
                    .header {
                        position: relative;
                        width: 100%;
                        height: 60px;
                        background: black;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-size: 20px;
                        font-weight: bold;
                        color: white;
                        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
                    }
                    .header span {
                        color: red; /* “测试中暂未开放” 变红色 */
                    }

                    /* Logo 图标 */
                    .logo {
                        position: absolute;
                        left: 0;
                        top: 0;
                        height: 60px;
                        width: 60px;
                        object-fit: cover;
                        cursor: pointer;
                        z-index: 10;
                        border-radius: 0; /* ✅ 方形，不是圆形 */
                    }

                    .account-popup div {
                        margin-bottom: 6px;
                        white-space: nowrap; /* 防止自动换行 */
                        }


                    /* 页面布局 */
                    .main-container {
                        display: flex;
                        flex-grow: 1;
                        width: 100%;
                    }

                    /* 左侧导航菜单 */
                    .sidebar {
                        width: 200px;
                        background: linear-gradient(45deg, #5d4037, #8d6e63);
                        padding: 20px;
                        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2);
                        display: flex;
                        flex-direction: column;
                    }
                    .sidebar h3 {
                        color: gold;
                        text-align: center;
                        border-bottom: 2px solid gold;
                        padding-bottom: 10px;
                    }
                    .sidebar ul {
                        list-style: none;
                        padding: 0;
                    }
                    .sidebar ul li {
                        margin: 10px 0;
                    }
                    .sidebar ul li a {
                        text-decoration: none;
                        color: #fff;
                        display: block;
                        padding: 29.5px;
                        background: #6d4c41;
                        border-radius: 5px;
                        text-align: center;
                        transition: 0.3s;
                        font-size: 16px;       /* ✅ 增加这一行 */
                        box-sizing: border-box;/* ✅ 再加这一行 */
                        /*white-space: nowrap;*/
                    }
                    .sidebar ul li a:hover {
                        background: #8d6e63;
                    }

                    /* 主内容区域 */
                    .content {
                        flex-grow: 1;
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        padding: 20px;
                    }
                    .container {
                        background: rgba(0, 0, 0, 0.6);
                        padding: 20px 40px;
                        border-radius: 10px;
                        box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
                        text-align: center;
                        position: relative;
                    }
                    .vip-badge {
                        position: absolute;
                        top: -20px;
                        left: 50%;
                        transform: translateX(-50%);
                        background-color: gold;
                        color: #3e2723;
                        padding: 5px 20px;
                        border-radius: 5px;
                        font-weight: bold;
                        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
                    }
                    h2 {
                        margin-bottom: 20px;
                        font-size: 2em;
                        border-bottom: 2px solid gold;
                        display: inline-block;
                        padding-bottom: 5px;
                    }
                    form {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                    }
                    label {
                        margin: 10px 0;
                        width: 100%;
                    }
                    input, textarea {
                        width: 100%;
                        padding: 10px;
                        margin-top: 5px;
                        border: 1px solid #5d4037;
                        border-radius: 5px;
                        background-color: #4e342e;
                        color: #e0e0e0;
                    }
                    input:focus, textarea:focus {
                        outline: none;
                        border-color: gold;
                    }
                    button {
                        margin-top: 20px;
                        padding: 10px 20px;
                        border: none;
                        border-radius: 5px;
                        background: linear-gradient(45deg, #8d6e63, #a1887f);
                        color: #ffffff;
                        font-size: 1em;
                        cursor: pointer;
                        transition: background 0.3s ease;
                    }
                    button:hover {
                        background: linear-gradient(45deg, #a1887f, #8d6e63);
                    }


                            
#google_translate_element {
  position: absolute;
  top: 60px;   /* 紧贴 header 底部 */
  right: 0;    /* 紧贴右边 */
  display: none;
  background: rgba(0,0,0,0.9);
  padding: 8px;
  border-radius: 5px;
  z-index: 9999;
  /* ❌ 去掉这里的 border，否则会叠加出两层边框 */
}

.goog-te-combo {
  padding: 5px 10px;
  font-size: 14px;
  background-color: #000 !important;
  color: #03a9f4 !important;
  border: 2px solid #03a9f4 !important; /* ✅ 在这里加粗边框 */
  border-radius: 5px;
  cursor: pointer;
}


                          .goog-te-combo:focus {
                            outline: none;
                            box-shadow: none;
                          }

                          .avatar {
                            width: 40px;
                            height: 40px;
                          border-radius: 50%;
                          object-fit: cover;
                          cursor: pointer;
                        }

.content {
  flex-grow: 1;
  display: flex;
  justify-content: center;       /* 水平居中 */
  align-items: center;           /* 垂直居中 */
  gap: 70px;                     /* 三列之间的间距 */
  padding: 20px;
  min-height: calc(100vh - 60px); /* 扣掉顶部横幅的高度 */
  box-sizing: border-box;
}

.payment-left {
  text-align: center;
  color: #4caf50;         /* 绿色说明文字 */
  font-size: 20px;        /* ✅ 字体更大 */
  font-weight: bold;      /* ✅ 加粗 */
  line-height: 2em;
  margin-top: -30px;      /* ✅ 整体上移，不影响表单 */
}

.payment-left h3 {
  margin-top: 15px;
  font-size: 22px;
  color: gold;
}

.payment-left p.copy-email {
  color: #00b0ff;        /* 高亮蓝色 */
  font-weight: bold;
  font-size: 22px;       /* 更大字体 */
  cursor: pointer;
  text-decoration: underline;
}

.payment-right { 
text-align: center;
color: #ffd700; 
font-size: 16px; 
}

.payment-right div {
  margin-bottom: 15px;
}

.payment-right img {
  width: 180px;       /* 固定宽度 */
  height: auto;       /* 保持比例 */
  border: 2px solid gold;
  border-radius: 10px;
  display: block;
  margin: 0 auto;
}

.account-toggle {
  position: fixed !important;
  top: 10!important;
  right: 10 !important;
  margin: 0 !important;
  padding: 0 !important;
  z-index: 10010 !important;
}

#userPhoto {
  display: block;
  margin: 10 !important;
  padding: 10 !important;
}
.register-box {
  width: 100%;
  max-width: 400px;
  margin: 40px auto;
  padding: 20px;
  background: #222;
  color: white;
  border-radius: 10px;
  box-shadow: 0 0 15px rgba(0,0,0,0.5);
  overflow: hidden;   /* 防止子元素撑破 */
}

.register-box input,
.register-box select,
.register-box button {
  width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box;
  display: block;
}

                </style>
            </head>
            <body>

                        <!-- 顶部横幅 -->
                        <div class="header">
                        <!-- 左边 LOGO -->
                <a href="https://htcb-12c7.github.io/htgov/">
                    <img class="logo" src="../assets/HTgovIconV2.png" alt="返回主页">
                </a>

                          <!-- 中间标题 -->
            <div>黑铁VIP <span>下单/咨询留言</span></div>

            <!-- 右侧按钮区 -->
            <div style="
              display: flex;
              align-items: center;
              gap: 20px;
              position: absolute;
              right: 10px;
              top: 10px;
            ">

                <!-- Language 按钮 -->
                <button id="lang-toggle" style="
                    position: absolute;
                    top: -20px;
                    right: 70px;
/*---------------*/ padding: 8px 17px; /* 宽 ， 长 */
                    font-size: 16px;           /* 字体大小 */
                    background: black;
                    color: #03a9f4;
                    border: 1px solid #03a9f4;
                    border-radius: 5px;
                    cursor: pointer;
                    font-weight: bold;
                    white-space: nowrap
                ">
                🌐 Language
                </button>

<!-- 头像 + 弹出卡片 -->
<div class="account-toggle" style="position: absolute; top: 10px; right: 10px;">
  <img id="userPhoto" src="https://htcb-12c7.github.io/htgov/assets/login-placeholder.svg" alt="头像"
    style="width: 40px; height: 40px; border-radius: 50%; cursor: pointer;"
    onclick="toggleAccountInfo()" />

  <div class="account-popup" id="accountPopup" style="
    display: none;
    position: absolute;
    top: 45px;
    right: 0;
    background: rgba(0,0,0,0.9);
    padding: 10px 15px;
    border-radius: 8px;
    color: white;
    z-index: 9999;
    box-shadow: 0 0 10px rgba(0,0,0,0.5);
    white-space: nowrap;
  ">

    <!-- 未登录显示登录表单 -->
    <div id="loginForm">
      <input type="email" id="email" placeholder="邮箱/用户名" style="width: 150px; margin: 3px;" />
      <input type="password" id="password" placeholder="密码" style="width: 150px; margin: 3px;" />
      <button id="loginBtn">登录</button>
      <button id="googleLoginBtn" style="background:#fff; color:#000; margin-top:5px;">使用 Google 登录</button>
    </div>

    <!-- 登录后显示/修改用户信息 -->
    <div id="userInfo" style="display:none;">
      <!-- 头像上传 -->
      <div>
        <label>头像：</label>
        <input type="file" id="updateAvatar" accept="image/*" />
        <img id="userPhotoPreview" 
             src="https://htcb-12c7.github.io/htgov/assets/login-placeholder.svg"
             style="width:60px; height:60px; border-radius:50%; margin-top:5px;" />
      </div>
      <div><strong>昵称：</strong><input id="userNickname" /></div>
      <div>
        <strong>邮箱：</strong>
        <input id="userEmail" style="width:200px;" />
        <button id="sendVerifyBtn" style="margin-left:5px;">发送验证邮件</button>
      </div>
      <div><strong>支付方式：</strong><input id="userPayMethod" /></div>
      <div><strong>支付名称：</strong><input id="userPayName" /></div>
      <div><strong>支付账号：</strong><input id="userPayAccount" /></div>
      <button id="saveBtn">保存</button>
      <button id="bindGoogleBtn" style="margin-top:10px; background:#4285F4; color:white;">
        绑定 Google 账号
      </button>
      <button id="logoutBtn">退出登录</button>
    </div>
  </div>
</div>
  </div>
</div>

                <!-- 页面主体 -->
                <div class="main-container">
                    
                    <!-- 左侧导航栏 -->
                    <div class="sidebar">
                        <h3>黑铁工作室</h3>
                        <ul>
                            <li><a href="https://htcb-12c7.github.io/htgov/HTVIP">黑铁 VIP</a></li>
                            <li><a href="https://htcb-12c7.github.io/htgov/">黑铁工作室简介</a></li>
                            <li><a href="https://htcb-12c7.github.io/htgov/">特殊加密页面，前往其他页面点我</a></li>
                                    
                            <li><a href="https://htcb-12c7.github.io/htgov/">The language selection box is in the lower left corner! Please click the "language button" in the upper right corner, and the language selection box will pop up in the lower left corner.</a></li>
                                                                                   
                        </ul>
                    </div>

                    <!-- 主内容 -->
<div class="content">
  <div class="payment-left">
              
<p>三项(外加现金)转账均无手续费，微信转账最优惠</p>
<p>美国银行付款支持：Zelle！</p>
<p>1.打开你的银行APP，查找Zelle</p>
<p>2.支持Zelle，使用Zelle填写我的邮箱转账</p>
<p>3.不支持Zelle，下载Zelle App,绑定你的银行卡后转账</p>
              
<h3>Zelle 收款邮箱【点击“邮箱”自动复制】</h3>
<p class="copy-email" onclick="copyEmail()">b_HTc@outlook.com</p>         
  </div>

  <div class="container">
    <div class="vip-badge">VIP</div>
    <h2>下单 黑铁VIP表单</h2>
    <form id="vip-form" onsubmit="sendEmail(event)">
      <label for="name">正式名字：</label>
      <input type="text" id="name" name="name" required>
      <label for="email">联系邮箱：</label>
      <input type="email" id="email" name="email" required>
      <label for="message">支付方式【凭证】/购买内容：</label>
      <textarea id="message" name="message" rows="4" required></textarea>
      <button type="submit">提交</button>
    </form>
  </div>

  <div class="payment-right">
    <div>
      <p>微信收款码</p>
      <img src="../assets/WX_qr.jpg" alt="微信收款码">
    </div>
    <div>
      <p>支付宝收款码</p>
      <img src="../assets/AP_qr.jpg" alt="支付宝收款码">
    </div>
  </div>
</div>
                        
            <!-- Google Translate 容器 -->
<div id="google_translate_element" style="display: none;"></div>

            <!-- 🌐 Google Translate 初始化函数 -->
            <script>
              function googleTranslateElementInit() {
                new google.translate.TranslateElement({
                  pageLanguage: 'zh-CN',
                  includedLanguages: 'zh-CN,en,ja,ko,fr,es,de,ru',
                  layout: google.translate.TranslateElement.InlineLayout.SIMPLE
                }, 'google_translate_element');
              }
            </script>

            <!-- 🌐 加载 Google 提供的语言组件 -->
<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

            <!-- 🌐 控制语言选择显示/隐藏 -->
            <script>
              window.addEventListener('load', function () {
                const toggle = document.getElementById("lang-toggle");
                const box = document.getElementById("google_translate_element");
                if (toggle && box) {
                  toggle.addEventListener("click", () => {
                    box.style.display = box.style.display === "none" ? "block" : "none";
                  });
                }
              });
            </script>

            <script>
              function toggleAccountInfo() {
                const popup = document.getElementById('accountPopup');
                popup.style.display = popup.style.display === 'none' ? 'block' : 'none';
              }
            </script>
                            
<script>
  function copyEmail() {
    const email = "b_HTc@outlook.com";
    navigator.clipboard.writeText(email).then(() => {
      alert("已复制邮箱地址: " + email);
    }).catch(err => {
      console.error("复制失败:", err);
      alert("复制失败，请手动复制");
    });
  }
</script>
<!-- ✅ 头像弹出信息卡片逻辑 -->
<script>
  function toggleAccountInfo() {
    const popup = document.getElementById('accountPopup');
    popup.style.display = popup.style.display === 'none' ? 'block' : 'none';
  }
</script>

<!-- Firebase 登录逻辑 -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
  import { getAuth, signInWithEmailAndPassword, signInWithPopup,
    GoogleAuthProvider, updateEmail, sendEmailVerification,
    linkWithPopup, onAuthStateChanged, signOut } 
    from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";
  import { getDatabase, ref, set, get } 
    from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js";
  import { getStorage, ref as sRef, uploadBytes, getDownloadURL } 
    from "https://www.gstatic.com/firebasejs/9.6.1/firebase-storage.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCDKAAxNpKqcSsS2onwlKANl9tLmCy6UGo",
    authDomain: "ht-chat-91e5f.firebaseapp.com",
    databaseURL: "https://ht-chat-91e5f-default-rtdb.firebaseio.com",
    projectId: "ht-chat-91e5f",
    storageBucket: "ht-chat-91e5f.firebasestorage.app",
    messagingSenderId: "325331727527",
    appId: "1:325331727527:web:d994b7241a7cc28e9dd782",
    measurementId: "G-VYV13LWP14"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getDatabase(app);
  const provider = new GoogleAuthProvider();
  const storage = getStorage(app);

  // ✅ 登录
  document.getElementById("loginBtn").onclick = async () => {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;
    try {
      await signInWithEmailAndPassword(auth, email, password);
    } catch (err) {
      alert("登录失败: " + err.message);
    }
  };

  // ✅ Google 登录
  document.getElementById("googleLoginBtn").onclick = async () => {
    try {
      await signInWithPopup(auth, provider);
    } catch (err) {
      alert("Google 登录失败: " + err.message);
    }
  };

  // ✅ 绑定 Google
  document.getElementById("bindGoogleBtn").onclick = async () => {
    const user = auth.currentUser;
    if (!user) return alert("请先登录");
    try {
      await linkWithPopup(user, provider);
      alert("Google 账号绑定成功！");
    } catch (err) {
      alert("绑定失败: " + err.message);
    }
  };

  // ✅ 邮箱验证
  document.getElementById("sendVerifyBtn").onclick = async () => {
    const user = auth.currentUser;
    if (!user) return alert("请先登录");
    const newEmail = document.getElementById("userEmail").value;
    try {
      await updateEmail(user, newEmail);
      await sendEmailVerification(user);
      alert("验证邮件已发送，请检查邮箱");
    } catch (err) {
      alert("发送失败: " + err.message);
    }
  };

  // ✅ 保存用户信息 + 上传头像
  let newAvatarFile = null;
  document.getElementById("updateAvatar").addEventListener("change", function(e) {
    const file = e.target.files[0];
    if (!file) return;
    if (file.size > 27 * 1024 * 1024) {
      alert("图片大小不能超过27MB！");
      return;
    }
    newAvatarFile = file;
    document.getElementById("userPhotoPreview").src = URL.createObjectURL(file);
  });

  document.getElementById("saveBtn").onclick = async () => {
    const user = auth.currentUser;
    if (!user) return alert("请先登录");

    let avatarURL = document.getElementById("userPhoto").src;

    if (newAvatarFile) {
      const fileRef = sRef(storage, "avatars/" + user.uid + ".jpg");
      await uploadBytes(fileRef, newAvatarFile);
      avatarURL = await getDownloadURL(fileRef);
      document.getElementById("userPhoto").src = avatarURL;
    }

    const userRef = ref(db, "users/" + user.uid);
    await set(userRef, {
      nickname: document.getElementById("userNickname").value,
      email: document.getElementById("userEmail").value,
      payMethod: document.getElementById("userPayMethod").value,
      payName: document.getElementById("userPayName").value,
      payAccount: document.getElementById("userPayAccount").value,
      avatar: avatarURL
    });

    alert("信息已更新！");
  };

  // ✅ 登出
  document.getElementById("logoutBtn").onclick = () => {
    signOut(auth);
  };

  // ✅ 登录状态监听
  onAuthStateChanged(auth, async (user) => {
    if (user) {
      document.getElementById("loginForm").style.display = "none";
      document.getElementById("userInfo").style.display = "block";
      document.getElementById("userPhoto").src = user.photoURL || "https://htcb-12c7.github.io/htgov/assets/HTgovIconV2.png";

      const userRef = ref(db, "users/" + user.uid);
      const snapshot = await get(userRef);
      if (snapshot.exists()) {
        const data = snapshot.val();
        document.getElementById("userNickname").value = data.nickname || "";
        document.getElementById("userEmail").value = data.email || user.email || "";
        document.getElementById("userPayMethod").value = data.payMethod || "";
        document.getElementById("userPayName").value = data.payName || "";
        document.getElementById("userPayAccount").value = data.payAccount || "";

	const defaultAvatar = "https://htcb-12c7.github.io/htgov/assets/login-placeholder.svg";
	document.getElementById("userPhoto").src = data.avatar || user.photoURL || defaultAvatar;
	document.getElementById("userPhotoPreview").src = data.avatar || user.photoURL || defaultAvatar;

      }
    } else {
      document.getElementById("loginForm").style.display = "block";
      document.getElementById("userInfo").style.display = "none";
      document.getElementById("userPhoto").src = defaultAvatar;
    }
  });
</script>                        
            </body>
            </html>
